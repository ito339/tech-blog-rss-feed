<!doctype html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="author" content="yamadashy"><meta name="robots" content="index, follow"><meta property="og:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta property="og:title" content="もふもふ技術部のフィード｜企業テックブログRSS"><meta property="og:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta property="og:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta property="og:type" content="website"><meta property="og:site_name" content="企業テックブログRSS"><meta property="og:locale" content="ja_JP"><meta name="twitter:card" content="summary"><meta property="twitter:domain" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta 
property="twitter:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta name="twitter:title" content="もふもふ技術部のフィード｜企業テックブログRSS"><meta name="twitter:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="twitter:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta name="thumbnail" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><link rel="preload" href="../../styles/bundle.css" as="style"><meta name="google-site-verification" content="GPLvXv8kYtLMW912ZS54DKFEZL6ruOrjOFLdHVTo37o"><link rel="shortcut icon" href="../../images/favicon.ico"><link rel="apple-touch-icon" href="../../images/apple-icon.png"><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="../../feeds/atom.xml"><link rel="alternate" type="application/rss+xml" title="RSS2.0" href="../../feeds/rss.xml"><link rel="alternate" type="application/json" 
href="../../feeds/feed.json"><link rel="stylesheet" type="text/css" href="../../styles/bundle.css"><script async src="https://www.googletagmanager.com/gtag/js?id=G-CNNNTL0NB3"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CNNNTL0NB3")</script><title>もふもふ技術部のフィード｜企業テックブログRSS</title></head><body><header role="banner" class="ui-section-header"><div class="ui-layout-container"><div class="ui-section-header__layout ui-layout-flex"><a href="https://yamadashy.github.io/tech-blog-rss-feed/" role="link" aria-label="#"><img src="../../images/icon.png" alt="サイトロゴ" loading="eager" width="96" height="96"> <span class="ui-section-header__title">企業テックブログRSS</span> </a><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#"><img src="../../images/github-mark.png" alt="GitHubロゴ" loading="eager" width="96" height="96"></a></div></div></header><main role="main"><nav class="ui-nav"><div 
class="ui-layout-container"><div class="ui-section-nav__layout ui-layout-flex"><a class="ui-section-nav__link" href="../../">フィード</a> <a class="ui-section-nav__link" href="../../hot/">人気フィード</a> <a class="ui-section-nav__link" href="../../blogs/">ブログ一覧</a></div></div></nav><section class="ui-section-content ui-section-feed"><div class="ui-layout-container"><h2 class="ui-typography-heading">もふもふ技術部</h2><div class="ui-container-blog-summary"><div class="ui-blog-summary"><a class="ui-blog-summary__link" href="https://tech.mof-mof.co.jp">https://tech.mof-mof.co.jp</a><p class="ui-blog-summary__description">IT技術系mofmofメディア</p></div></div><h3 class="ui-typography-heading">フィード</h3><div class="ui-section-content--feature ui-layout-grid ui-layout-grid-3 ui-container-feed ui-container-feed--no-image"><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/10/06/233110"><picture><source type="image/webp" 
srcset="../../images/feed-thumbnails/KnNbevAxHc-150.webp 150w, ../../images/feed-thumbnails/KnNbevAxHc-450.webp 450w" sizes="100vw"><img alt="記事のアイキャッチ画像" loading="lazy" decoding="async" src="../../images/feed-thumbnails/KnNbevAxHc-150.jpeg" width="450" height="469" srcset="../../images/feed-thumbnails/KnNbevAxHc-150.jpeg 150w, ../../images/feed-thumbnails/KnNbevAxHc-450.jpeg 450w" sizes="100vw"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/10/06/233110">IBM Qiskitでベル状態の量子回路を作る</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
どうも、量子の人を目指して頑張ってます原田です。普段は量子の理論の方を学習しているので、コードを書くのは初だったのですが、予想以上に難しかった。というか、コードを書く=アプリケーションを開発するという認識しかなかったので、ビットを直接いじるというのはなかなか新鮮だった。今回は以下ベル状態と呼ばれる4つの回路を作ってみます。今のところまだベル状態が意味するものはいまいち分かっていないけど、2つの量子ビットがもつれている基底ベクトルというような理解。環境Google Colaboratoryで動かすとローカルで環境を構築しなくていいのでとても楽。colab.research.google.comクラウド上の機械学習の実行環境というような説明をされているのを目にするが、とりあえずPythonが動いてくれる環境で、別に機械学習に関わらず使える。アプリケーションのコードを書いていくというより、小さいコードのブロックを実行していて、その結果を記録していくようなドキュメントとコーディングをセットで出来る環境って感じ。まあいわゆるJupyter NotebookのGoogle版。まずは必要なパッケージのインストールとインポートをしておく。ざっとコピペなので、今回必要ないのも混ざっているかもしれん。!pip install qiskit&gt;=1!pip install pylatexenc!pip install qiskit-aer&gt;=0.15import numpy as npfrom qiskit_aer import Aer, AerSimulatorfrom qiskit_aer.noise import NoiseModel, pauli_errorfrom qiskit import QuantumRegister, ClassicalRegister, QuantumCircuitfrom qiskit.visualization import plot_histogramfrom qiskit import user_configfrom qiskit.quantum_info import partial_tracefrom IPython.display import Javascriptsv_sim = Aer.get_backend(&#39;statevector_
</div><div class="ui-feed-item__date" title="2024-10-06 14:31:10">10日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/10/04/100000"><picture><source type="image/webp" srcset="../../images/feed-thumbnails/9ngy-rX1Yv-150.webp 150w, ../../images/feed-thumbnails/9ngy-rX1Yv-450.webp 450w" sizes="100vw"><img alt="記事のアイキャッチ画像" loading="lazy" decoding="async" src="../../images/feed-thumbnails/9ngy-rX1Yv-150.jpeg" width="450" height="236" srcset="../../images/feed-thumbnails/9ngy-rX1Yv-150.jpeg 150w, ../../images/feed-thumbnails/9ngy-rX1Yv-450.jpeg 450w" sizes="100vw"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/10/04/100000">【Rails】よく使う・知っていると便利なmigrateコマンド</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
今回はよく使う・知っていると便利なmigrateコマンドを紹介します！マイグレートするrails db:migrate特定の環境のみマイグレートする開発環境の場合（デフォルトなので明示的に指定することはあまりないと思います）rails db:migrate RAILS_ENV=developmentテスト環境の場合rails db:migrate RAILS_ENV=test本番環境の場合rails db:migrate RAILS_ENV=productionマイグレーションの状態を確認するrails db:migrate:status以下のように出力されます。 Status Migration ID Migration Name-------------------------------------------------- up 2024100100000 Create users up 2024100200000 Create groups up 2024100300000 Create posts up 2024100400000 Create notices up 2024100500000 Create animals特定のバージョンだけダウンするrails db:migrate:down VERSION=2024100300000特定のバージョンだけアップするrails db:migrate:up VERSION=2024100300000特定のバージョンまでマイグレートするrails db:migrate VERSION=20240100300000ロールバックするrails db:rollback2つ以上のバージョンをロールバックするrails db:rollback STEP=3ロールバックして、マイグレートするrails db:migrate:redo2つ以上のバージョンをロールバックして、マイグレートするrails db:migrate:redo STEP=3DBを作成するrails db:createDBを削除するrails db:dropシードデータを投入するrails db:seedDBをセットアップするDBの作成、スキーマの読み込み、シードデータの投入が行われます。rails db:setupDBをリセットするDBを削除してからセ
</div><div class="ui-feed-item__date" title="2024-10-04 01:00:00">13日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/10/02/140200"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/10/02/140200">はてなブログのSEO効果を高めるために各記事に著者プロフィールとJSON-LDへの情報追加をやってみた</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
こんにちは。出口です。今回は、はてなブログのSEO効果を高めるための施策を行ったので、その辺りの話です。大きく分けて2つの対応を行いました。記事下への著者情報の追加JSON-LDへの著者情報等の追加どちらもJavaScriptでの対応になります。記事下への著者情報の追加まず1つ目、記事下への著者情報の追加です。はてなブログには、元々著者情報が表示されています。これは、はてなプロフィールをベースにしているので、はてなID、表示名, はてなプロフィールへのリンクぐらいしか表示されません。これを次のように改善しました。画像のようなものが記事の一番下に表示されているはずです。こちらはJavaScriptを使って表示しています。次のようなコードです。const profiles = [ { hatenaId: &#39;deg84&#39;, name: &#39;出口 達也&#39;, title: &#39;エンジニアリングコーチ&#39;, photo: &#39;https://www.mof-mof.co.jp/images/about/about_deguchi_update2_detail.jpg&#39;, aboutPageUrl: &#39;https://www.mof-mof.co.jp/member/tatsuya-deguchi&#39;, profile: &#39;大阪のIT系専門学校を卒業後、東京のWEB制作会社に入社し、フロントエンドやバックエンドの開発経験を経て、退職までディレクターに従事。&#92;nその後独立し、月額制とアジャイル開発をベースにしたサービス開発を行う。&#92;n当時、担当していたサービス開発の増員依頼をきっかけに以前より親交のあった原田さんに相談し、以降、共に開発を行う。&#92;n会社の成長に合わせて、エンジニアの技術力低下に懸念を抱いた小畑さんからの依頼により、エンジニアリングコーチとしてmofmofにジョイン。&#92;n現在は、1on1の実施や開発プロセスの改善など、チームの開発生産性向上に取り組んでいる。&#39;, githubUserName: &#39;deg84&#39;, twitterUserName: &#39;deg84&#39; }];function createProfileCard(profile) { const container = document.querySelector(&quot;.entry-footer-section.track
</div><div class="ui-feed-item__date" title="2024-10-02 05:02:00">14日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/10/02/100000"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/10/02/100000">【Rails】i18nを使った日本語化</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Railsで日本語化をするとき、「あれどうやるんだっけ」と意外と忘れてしまうこともあると思います。事前準備config/application.rb に以下の設定を追加します。config.i18n.default_locale = :jaconfig.i18n.load_path += Dir[Rails.root.join(&#39;config&#39;, &#39;locales&#39;, &#39;**&#39;, &#39;*.{rb,yml}&#39;).to_s]ファイルを設置する雛形ファイルを持ってくる日本語の雛形ファイルは以下を使うのがおおすすめです。config/locales/ja.yml として設置しましょう。github.comモデルの日本語ファイルを別で設置するconfig/locales/ja.yml に追記していく形でもよいですが、モデル数やカラム数が増えていくと管理が大変になるので別のファイルにしましょう。config/locales/models/ja.yml または config/locales/models/user/ja.ymlja: activerecord: attributes: user: name: 名前 email: メールアドレスFormオブジェクトを使用している場合Formオブジェクトを使用している場合は、activerecord ではなく、 activemodel を使用することに注意しましょう。app/forms/sign_in_form.rb を以下のように定義している場合class SignInForm include ActiveModel::Model include ActiveModel::Attributes attribute :email, :string attribute :password, :stringendconfig/locales/forms/ja.yml または config/locales/forms/sign_in_form/ja.ymlja: activemodel: attributes: sign_in_form: email: メールアドレス password: パスワードenumを使用している場合以下の記事を参考にしてみてください。【日本語対応あり】Railsでenumを使う - もふもふ技術部終わり雛形ファイルの
</div><div class="ui-feed-item__date" title="2024-10-02 01:00:00">15日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/10/01/100000"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/10/01/100000">【日本語対応あり】Railsでenumを使う</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
ユーザーの権限を管理する際などに、enumを使うことがあると思います。下準備1. Gemをインストールする日本語対応のためのGemです。gem &quot;enum_help&quot;2. モデルを作る$ rails g model user202401001000000_users.rbclass CreateUsers &lt; ActiveRecord::Migration[7.1] def change create_table :users do |t| t.string :name t.integer :role, default: 1 t.timestamps end endendapp/models/user.rbgeneral を通常ユーザーに admin を管理者とします。class User &lt; ApplicationRecord enum role: { general: 1, admin: 2 }end使ってみる1. 保存するuser = User.create(role: 1)user.role# =&gt; &quot;general&quot;数値で指定する以外にも、先ほど設定したキーで指定することもできます。admin = User.create(role: &quot;admin&quot;)admin.role# =&gt; &quot;admin&quot;2. スコープenumを設定すると、スコープが使用できるようになります。通常ユーザーの一覧を取得するUser.general通常ユーザー以外の一覧を取得するUser.not_general3. 日本語対応冒頭でインストールした enum_help を使って日本語対応もできます。config/locales/enums/ja.ymlja: enums: user: role: general: 通常ユーザー admin: 管理者user = User.firstuser.role_i18n# =&gt; 通常ユーザー4. セレクトボックスで使う日本語対応を応用して、セレクトボックスで使用するハッシュを作成することができます。~~省略~~&lt;%= f.select :role, User.roles_i18n.invert %&gt;~~省略~~終わりGemを使用すれば日本語化も簡単に使うことができてとても便利ですね！
</div><div class="ui-feed-item__date" title="2024-10-01 01:00:00">16日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/09/24/182543"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/09/24/182543">Rails7 に Bootstrap を導入する</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
以前Rails7でTailwind CSSの導入をしましたが、今回はBootstrapを導入してみます。プロジェクト作成時に導入する場合1. rails new mofmof -j esbuild --css bootstrap でプロジェクトを作成する2. 以下を package.json に追加する&quot;scripts&quot;: { &quot;build&quot;: &quot;esbuild app/javascript/*.* --bundle --sourcemap --format=esm --outdir=app/assets/builds --public-path=/assets&quot;, &quot;build:css:compile&quot;: &quot;sass ./app/assets/stylesheets/application.bootstrap.scss:./app/assets/builds/application.css --no-source-map --load-path=node_modules&quot;, &quot;build:css:prefix&quot;: &quot;postcss ./app/assets/builds/application.css --use=autoprefixer --output=./app/assets/builds/application.css&quot;, &quot;build:css&quot;: &quot;yarn build:css:compile &amp;&amp; yarn build:css:prefix&quot;, &quot;watch:css&quot;: &quot;nodemon --watch ./app/assets/stylesheets/ --ext scss --exec &#92;&quot;yarn build:css&#92;&quot;&quot;}既存のプロジェクトに途中から導入する場合1. 以下を Gemfile に追加gem &quot;cssbundling-rails&quot;2. bundle install を実行3. bin/rails css:install:bootstrap 実行4. 以下を package.json の scripts に追加する&quot;scripts&quot;: { &quot;build&quot;: &quot;esbuild app/javascript/*.* --bundle --sourcemap --format=esm --outdir=app/assets/builds -
</div><div class="ui-feed-item__date" title="2024-09-24 09:25:43">22日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/09/19/160237"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/09/19/160237">【Rails】Stripeで決済したサブスクを解約する</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Stripe決済第四弾です。www.mof-mof.co.jp実装ルーティングを追加します。config/routes.rbresources :cancel, only: [:create]viewsに追記します。app/viewa/plans/index.html.erb&lt;%= button_to cancel_index_path, data: { turbo: false } do %&gt; 解約&lt;% end %&gt;コントローラーを作成します。app/controllers/cancel_controller.rbclass CancelController &lt; ApplicationController def create subscriptions = Stripe::Subscription.list(status: &#39;active&#39;, customer: current_user.customer_id) if subscriptions.blank? redirect_to plans_url, status: :see_other and return end subscription = Stripe::Subscription.cancel(subscriptions.first.id) if subscription.status == &quot;canceled&quot; current_user.update(plan_id: 1) end redirect_to plans_url, status: :see_other and return endend以下のようにStripeのAPIを使用して、契約中のサブスクデータを取得しています。Payment にも決済情報を保存していますが、有効なサブスクデータを探すという意味合いでもAPIを使用してみました。Stripe::Subscription.list(status: &#39;active&#39;, customer: current_user.customer_id)もし、サービス内で複数のサブスクを契約できるようにしている場合は、以下のように price_id も用いて絞り込みをする必要があります。Stripe::Subscription.list(status: &#39;active&#39;, customer: cur
</div><div class="ui-feed-item__date" title="2024-09-19 07:02:37">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/09/12/100000"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/09/12/100000">【Rails】Stripe決済で複数のユーザープランを実装する</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Stripe決済第三弾です。www.mof-mof.co.jp決済を実装する今回用意するプランスタンダードプラン¥100/月¥800/買い切りプレミアムプラン¥1,000/月¥8,000/買い切り料金を作成するこちら で料金を作成します。 www.mof-mof.co.jp商品カタログページを見て、以下のようになっていればOKです。商品カタログページプランのマスターデータを作る各料金の price_~~~ を保存する場所がないので、作成していきます。ActiveHash を使います。Gemをインストールします。Gemfilegem &quot;active_hash&quot;PlanとPlanPriceを作成します。app/models/plan.rbclass Plan &lt; ActiveHash::Base include ActiveHash::Associations has_many :plan_prices self.data = [ { id: 1, code: &#39;free&#39;, name: &quot;無料会員&quot;}, { id: 2, code: &#39;standard&#39;, name: &quot;スタンダード会員&quot;}, { id: 3, code: &#39;premium&#39;, name: &quot;プレミアム会員&quot;} ]endapp/models/plan_price.rbclass PlanPrice &lt; ActiveHash::Base include ActiveHash::Associations belongs_to :plan self.data = [ { id: 1, plan_id: 2, price_id: &quot;price_~~~~&quot;, mode: &quot;subscription&quot; }, # サブスクのスタンダードプラン { id: 2, plan_id: 2, price_id: &quot;price_~~~~&quot;, mode: &quot;payment&quot; }, # 買い切りのスタンダードプラン { id: 3, plan_id: 3, price_id: &quot;price_~~~~&quot;, mode: &quot;subscription&quot; }, # サブスクのプレミアムプラン { id: 4, plan_id: 3, price_id: &quot;price_~~~~&quot;, mode: &quot;payment&quot; }, # 買い切りのプレミ
</div><div class="ui-feed-item__date" title="2024-09-12 01:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/09/11/100000"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/09/11/100000">【Rails】Stripe決済で買い切りプレミアムプランを実装する</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Stripe決済第二弾です。www.mof-mof.co.jp決済を実装する料金を作成するこちら で料金を作成します。 前回作成したプレミアムプラン「料金」の右側にある「＋」を押し、以下の画像のように入力して登録します。料金追加画面料金を追加することができました。画面右上にある 「price_~~~」は後で使用するのでコピーしておきましょう。料金の詳細プレミアムプランへの動線を作るルーティングを追加します。config/routes.rbresources :plans, only: [:index]コントローラーを作成します。app/controllers/plans_controller.rbclass PlansController &lt; ApplicationController def index; endendviewsを作成します。app/viewa/plans/index.html.erb&lt;%= button_to checkouts_path, data: { turbo: false } do %&gt; プレミアムプラン(¥1,000)に申し込む&lt;% end %&gt;Stripeで決済するルーティングを追加します。config/routes.rbresources :checkouts, only: [:create]コントローラーを作成します。app/controllers/checkouts_controller.rbclass CheckoutsController &lt; ApplicationController def create create_customer if current_user.customer_id.blank? price_id = &#39;price_~~~&#39; #先ほどコピーした値 session = Stripe::Checkout::Session.create( customer: current_user.customer_id, mode: &quot;payment&quot;, payment_method_types: [&quot;card&quot;], line_items: [ { quantity: 1, price: price_id } ], success_url: root_url, cancel_url: plans_url ) re
</div><div class="ui-feed-item__date" title="2024-09-11 01:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/09/10/094529"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/09/10/094529">【Rails】Stripeでサブスク決済</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
近年、サブスクのサービスが増えましたね。下準備Gemをインストールします。Gemfilegem &quot;stripe&quot;Stripeのアカウントを作成します。stripe.com開発環境で動作確認するだけであれば、アカウントを作成するだけですぐに使えます！環境変数を追加します。https://dashboard.stripe.com/test/apikeys からAPIキーを持ってきます。credentials に保存しましょう。$ rails credentials:edit -e development エディタが開いたら以下を参考にAPIキーを設定します。stripe: publishable_key: pk_test_~~~~ secret_key: sk_test_~~~~次に、 config/initializers/stripe.rb を作成し、以下の内容で保存します。Stripe.api_key = Rails.application.credentials.dig(:stripe, :secret_key)Stripe.api_version = &#39;2024-06-20&#39;※ APIのバージョン情報は こちら で確認できます。ユーザー認証を作っておきましょう。www.mof-mof.co.jpこちらの記事などを参考に、ユーザー認証を準備します。usersテーブルにカラムを足します。$ bundle exec rails g migration stripe_to_usersdb/20240910000000_stripe_to_users.rbclass StripeToUsers &lt; ActiveRecord::Migration[7.1] def change add_column :users, :premium, :boolean, default: false add_column :users, :customer_id, :string endend※ customer_id はStripeの顧客IDを保存するために使用します。Paymentモデルを追加します。$ bundle exec rails g model paymentdb/20240910000000_create_payments.rbclass CreatePayments &lt;
</div><div class="ui-feed-item__date" title="2024-09-10 00:45:29">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/09/09/134257"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/09/09/134257">スクラムを改めて基本から理解するためにPSM Ⅰを取得しました</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
PSMとはなぜ受験しようと思ったかよかったことスクラムの基本が身につけられたスクラムガイド最新版のキャッチアップができた複数スクラムチームの運用について知ることができたPSM Ⅱに向けて最後にPSMとはPSM （Professional Scrum Master）は、Scrum.orgによって提供される認定資格です。この資格は、スクラムのフレームワークを理解し、実践するために必要な基礎知識を持つことを証明するものです。他にもスクラム認定資格といえばCSM、LSMがありますが、研修が必須であり、受講料も高額です。PSMは他のスクラム認定資格と比べて受験費用が安く、研修も必須ではないので受験のハードルは低いです。試験は英語での出題となりますが、Google翻訳を使用してもよいと案内されているので安心してください。www.scrum.orgなぜ受験しようと思ったかmofmofではスクラムをベースにアレンジ(専任のスクラムマスターを置かない、デイリースクラムはやらない等)された&quot;モジャイル開発&quot;で開発を行っています。アレンジは開発者自身が自律的にプロジェクトを進行できる前提として行われていますが、プロジェクトがなんとなく上手く進んでいない気がした時に、スクラムマスターだったらやるべきことってなんだっけ？と考えることがありました。スクラムの進め方は一通り知っていたけど、スクラムマスターの役割や責任範囲などはよくわかっていないことに気づき、改めてベースとなっているスクラムをしっかりと理解するため、スクラム認定資格を受験することにしました。よかったことスクラムの基本が身につけられたスクラムガイドや解説ブログを読むことで曖昧になっていたスクラムの知識を整理することができました。スクラムガイド最新版のキャッチアップができた2022年入社時、SCRUM BOOT CAMP THE BOOKを読んでスクラムのキャッチアップを行ったのですが、もととなっているスクラムガイドは増補改訂時点で最新の2017年版でした。スクラムガイドは2020年11月にアップデートされており、その差分について今回の受験を通して把握することができました。複数スクラムチームの運用について知ることができた複数スクラムチームでの開発は経験・知識ともになかったので、スケーリングした際のスクラムについて知る良い機会になりまし
</div><div class="ui-feed-item__date" title="2024-09-09 04:42:57">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/08/22/145146"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/08/22/145146">dockerのRuby環境をHerokuと同じUbuntuで動くものにする</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Dockerの公式が出しているRubyのdocker imageではdebianやapline linuxが使用されています。mofmofではHerokuで本番環境を作っているアプリも多いのですが、HerokuではUbuntuが使われています。そのため、ローカルで使用しているdockerでもUbuntuを使ってHerokuと環境を合わせたいねという話が開発チームの中で出ました。開発しているアプリでHeroku-20のstackからHeroku-22にアップグレード対応するものがあったため、このタイミングでDockerのRubyをUbuntu上で動くものにしてみました。rubylang/rubyのdocker imagerubylang/rubyrubylang/ruby:3.1.6-jammyこちらが今回採用したdocker imageです。Heroku-22のstackはUbuntu 22.04で動作しており、こちらのdocker imageも同様にUbuntu 22.04で動作しているため、Heroku-22のstackで動作している環境と同じ環境で動かせるということになります。変更する上でのポイントbundle install時のインストール先ディレクトリの権限設定ruby:3.1.6今まではこちらのようなDocker公式のdocker imageを使っていたのですが、こちらを使った場合のDockerfileでは下記のように、dockerというUSERを作って、bundle installはUSER dockerが実行する形にしていました。RUN useradd -m docker &amp;&amp; echo &quot;docker:docker&quot; | chpasswd &amp;&amp; adduser docker sudoWORKDIR /usr/src/appCOPY Gemfile* ./RUN chown docker:docker -R .USER dockerRUN bundle install --jobs 4今回も同様の形にしてdocker compose buildを実行したところ、 &gt; [app stage-1 10/12] RUN bundle install --jobs 4:1.917 Fetching gem metadata from https://ruby
</div><div class="ui-feed-item__date" title="2024-08-22 05:51:46">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/08/15/181106"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/08/15/181106">【Rails7】JS不要！Hotwireで無限スクロールを実装する</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Hotwireを使ってみる第三弾です！下準備1. Gemをインストールするgem &quot;kaminari&quot;2. モデルを作る$ rails g model post20240813000000_posts.rbclass CreatePosts &lt; ActiveRecord::Migration[7.1] def change create_table :posts do |t| t.string :name t.timestamps end endend実装する1. ルーティングを設定するconfig/routes.rbresources :posts, only: [:index]2. コントローラーの実装app/controllers/posts_controller.rbclass PostsController &lt; ApplicationController def index posts = Post.all if params[:page].present? @posts = posts.page(params[:page]).per(5) render turbo_stream: turbo_stream.replace(&quot;posts&quot;, partial: &quot;posts&quot;) else @posts = posts.page(1).per(5) render :index end endend3. viewsの実装app/views/posts/index.html.erb&lt;%= render &#39;posts&#39; %&gt;app/views/posts/_posts.html.erb&lt;% @posts.each do |post| %&gt; &lt;div&gt;&lt;%= post.name %&gt;&lt;/div&gt;&lt;% end %&gt;&lt;% if @posts.next_page %&gt; &lt;%= turbo_frame_tag &quot;posts&quot;, loading: :lazy, src: posts_path(page: @posts.next_page) %&gt;&lt;% end %&gt;終わりこれで実装完了です！！loading: :lazy で遅延読み込みをすることにより、無限スクロールを実現しています。JSを使わずに無限スクロールが実装できるなんて、数年前の自分が知ったらビックリして腰が抜けると思い
</div><div class="ui-feed-item__date" title="2024-08-15 09:11:06">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/08/15/162320"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/08/15/162320">【Rails7】Hotwireで検索を実装する</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Hotwireを使ってみる第二弾です！下準備1. モデルを作る$ rails g model post20240813000000_posts.rbclass CreatePosts &lt; ActiveRecord::Migration[7.1] def change create_table :posts do |t| t.string :name t.timestamps end endend2. Gemをインストールする（ページネーションを使う場合）gem &quot;kaminari&quot;実装する1. ルーティングを設定するconfig/routes.rbresources :posts, only: [:index]2. コントローラーの実装今回は name カラムをLIKE検索してみます。app/controllers/posts_controller.rbclass PostsController &lt; ApplicationController def index @posts = Post.where(&quot;name LIKE ?&quot;, &quot;%#{search_params[:name]}%&quot;) end private def search_params params.fetch(:q, {}).permit(:name) endend3. viewsの実装app/views/posts/index.html.erb&lt;%= form_with scope: :q, url: posts_path, method: :get, data: { turbo_frame: &quot;posts&quot; } do |f| %&gt; &lt;div&gt; &lt;%= f.text_field :name %&gt; &lt;%= f.submit &quot;検索&quot; %&gt; &lt;/div&gt;&lt;% end %&gt;&lt;%= turbo_frame_tag &#39;posts&#39; do %&gt; &lt;% @posts.each do |post| %&gt; &lt;div&gt;&lt;%= post.name %&gt;&lt;/div&gt; &lt;% end %&gt;&lt;% end %&gt;これだけで、実装は終わりです。&lt;%= turbo_frame_tag &#39;posts&#39; do %&gt; ブロックの中身だけ更新されます。ページネーションを置きたい場合ページネーションを置きたい場合も少しの修正だけで実装できます。1.
</div><div class="ui-feed-item__date" title="2024-08-15 07:23:20">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/08/13/172740"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/08/13/172740">【Rails7】JS不要！Hotwireで「もっと見る」を実装する</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Rails6までは「もっと見る」などの動的な機能を実装する場合はJSが必須でした。下準備1. Gemをインストールするgem &quot;kaminari&quot;2. モデルを作る$ rails g model post20240813000000_posts.rbclass CreatePosts &lt; ActiveRecord::Migration[7.1] def change create_table :posts do |t| t.string :name t.timestamps end endend実装する1. ルーティングを設定するconfig/routes.rbresources :posts, only: [:index]2. コントローラーの実装app/controllers/posts_controller.rbclass PostsController &lt; ApplicationController def index posts = Post.all if params[:page].present? @posts = posts.page(params[:page]) render turbo_stream: turbo_stream.replace(&quot;posts&quot;, partial: &quot;posts&quot;) else @posts = posts.page(1) render :index end endend3. viewsの実装app/views/posts/index.html.erb&lt;%= render &#39;posts&#39; %&gt;app/views/posts/_posts.html.erb&lt;% @posts.each do |post| %&gt; &lt;div&gt;&lt;%= post.name %&gt;&lt;/div&gt;&lt;% end %&gt;&lt;%= turbo_frame_tag &#39;posts&#39; do %&gt; &lt;% if @posts.next_page %&gt; &lt;%= link_to &quot;もっと見る&quot;, posts_path(page: @posts.next_page), data: { turbo_stream: true } %&gt; &lt;% end %&gt;&lt;% end %&gt;補足link_to に data: { turbo_stream: true } のオプションをつけないと、リンク
</div><div class="ui-feed-item__date" title="2024-08-13 08:27:40">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/07/26/174847"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/07/26/174847">【Rails】deviseを使わない自前のユーザー認証 -パスワードリセット編</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
deviseを使わない自前のユーザー認証 の続きで、今回はパスワードリセット機能を実装します。下準備1. カラムを追加します$ rails g migration add_password_reset_to_users20240726000000_add_password_reset_to_users.rbclass CreateUsers &lt; ActiveRecord::Migration[7.1] def change add_column :users, :password_reset_sent_at, :datetime add_column :users, :password_reset_digest, :string endend2. Userモデルに追記するapp/models/user.rbdef password_reset token = User.new_token self.password_reset_digest = User.digest(token) self.password_reset_sent_at = Time.zone.now self.save UserMailer.with(user: self, token: token).password_reset.deliver_nowenddef password_reset_expired? password_reset_sent_at &lt; 10.minutes.agoenddef password_update(params) self.password_reset_digest = nil self.password_reset_sent_at = nil self.update(params)enddef authenticated?(attribute, token) digest = self.send(&quot;#{attribute}_digest&quot;) return false if digest.nil? BCrypt::Password.new(digest).is_password?(token)endclass &lt;&lt; self def digest(string) cost = ActiveModel::SecurePassword.min_cost ? BCr
</div><div class="ui-feed-item__date" title="2024-07-26 08:48:47">3ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/07/12/182916"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/07/12/182916">【Rails】deviseを使わない自前のユーザー認証</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
deviseを使ったユーザー認証はとても便利ですが、カスタマイズをしたいときや、APIモードで使う時には不便なことがあります。下準備1. Gemfileに使用するGemを追加します（Gemfileの中でコメントアウトしてあるかと思います。）gem &quot;bcrypt&quot;, &quot;~&gt; 3.1.7&quot;2. bundle install します3. Userモデルを作成します$ rails g model user20240712000000_create_users.rbclass CreateUsers &lt; ActiveRecord::Migration[7.1] def change create_table :users do |t| t.string :email, null: false t.string :password_digest t.timestamps end endend4. passwordをハッシュ化する準備をしますapp/models/user.rbclass User &lt; ApplicationRecord has_secure_passwordendサインアップの実装1. ルーティングを設定するconfig/routes.rbget &#39;/sign_up&#39;, to: &#39;sign_up#new&#39;post &#39;/sign_up&#39;, to: &#39;sign_up#create&#39;get &#39;/sign_up/thanks&#39;, to: &#39;sign_up#index&#39;2. コントローラーの実装app/controllers/sign_up_controller.rbclass SignUpController &lt; ApplicationController def index; end def new @user = User.new end def create @user = User.new(user_params) if @user.save redirect_to sign_up_thanks_url, status: :see_other else render :new, status: :unprocessable_entity end end private def user_params params.fetch(:user, {}).permit
</div><div class="ui-feed-item__date" title="2024-07-12 09:29:16">3ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/07/04/181743"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/07/04/181743">AWS Cloud Practitioner を取得してみた話</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
目標・目的インフラ（今回はAWS）について学ぶことで今後の開発での視野を広げることが今回の目的です。まずはその第一歩としてCloud Practitionerの取得を目標としました。学習方法主にAWS Skill Builderでの学習を主体とし、試験対策として無料の過去問サービスを利用しました。Skill Builderを使った理由資格取得のための学習講座に加え、仮試験を受けることもできるというAWS Skill Builderを利用することに決めました。（仮試験については有料コースで、学習講座は一部有料コースで無料コースのみでも問題なさそうに思いました。）資格取得に関連したコースについてこちらのAWS Cloud Practitionerの試験概要サイトの試験を準備するの項目に従いコースを受講しました。aws.amazon.com1. 資格取得に向けて初歩から学ぶためのCloud Practitionerの資格学習講座 explore.skillbuilder.aws explore.skillbuilder.awsこれらはAWSの日本人のトレーナーの方々が動画付きで資格に関連するAWSリソースの知識を解説してくれる講座でした。無料の講座なのでAWSリソースの基礎知識をつけるのであれば資格取得問わず受けてみるのはアリだなと感じました。2. AWS Cloud Quest という実践よりの講座 explore.skillbuilder.awsこの講座はとある島の住人のインフラに関する悩みをAWSを活用して解決してあげるというものになります。RPGの様にストーリー形式で悩みを聞きつつAWSのサンドボックス環境で悩みの解決を実際に行うというものでした。（これが一番面白かったです。）3. 仮試験 explore.skillbuilder.aws感想資格の取得はAWSのリソースについて学ぶのは知識を広げるという点でなかなか有意義なものでした。ただ、リソースだけ学ぶよりもアーキテクチャをしっかりと組み、自身で0から構築してみないことには自信にはつながりきらないなと感じました。個人開発でアーキテクチャ考えてシステム作ってデプロイして運用までする。実践あるのみ！Skill Builderのその他コースについてAWS Skill Builderには資格向けの講座だけでなく様々なハ
</div><div class="ui-feed-item__date" title="2024-07-04 09:17:43">3ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/07/02/234954"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/07/02/234954">Expoでブランクアプリケーションを生成してEASビルドを試す</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
個人開発しているアプリのExpoバージョンを上げていったらビルドが通らなくなった。そこで、比較的新しいバージョンのExpoではビルドがどういう感じになっているのかキャッチアップしたい。ひとまずブランクアプリケーションが起動するまでまずはブランクアプリケーションを生成する。$ expo init ExpoBlank┌───────────────────────────────────────────────────────────────────────────┐│ ││ The global expo-cli package has been deprecated. ││ ││ The new Expo CLI is now bundled in your project in the expo package. ││ Learn more: https://blog.expo.dev/the-new-expo-cli-f4250d8e3421. ││ ││ To use the local CLI instead (recommended in SDK 46 and higher), run: ││ › npx expo &lt;command&gt; ││ │└───────────────────────────────────────────────────────────────────────────┘Migrate to using:› npx create-expo-app --templateどうやらexpo-cliをglobalで使うのは非推奨になっているらしい上に、expo initではなくnpx create-expo-appを使えとのこと。大人しく言うことに従う。$ npm uninstall -g expo-cli$ npx create-expo-app ExpoBlanknpx: installed 1 in 0.742sUnexpected token &#39;??=&#39;なんか謎のエラー。かなり古い環境でやっていたので、たぶんnodeのバージョンのせいだろう。nodeのバージョンを上げる（nodeのバージョン管理はfnmを使ってます）。$ fnm currentv14.21.3$ fnm use v21.7.2 ✘ 2Using Node v21.7
</div><div class="ui-feed-item__date" title="2024-07-02 14:49:54">3ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/07/02/164328"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/07/02/164328">【Rails】validationのエラーメッセージをカラムごとに抜き出す</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
バリデーションでエラーになった際に、エラーメッセージを各テキストフィールド等の下部に表示したい時があると思います。今回はそんな時に便利な各attributeごとにエラーメッセージを抜き出す方法を紹介します。手順例えば User の email のエラーは以下のように抜き出します。user = User.newuser.validuser.errors.where(:email)抜き出したものは配列になっているので、以下のようにすれば全てのエラーメッセージを日本語化した状態で取得できます。user.errors.where(:email).map(&amp;:full_message)これを応用すると、エラーメッセージを各テキストフィールドの下部に表示できます。&lt;%= form_with model: @user, local: true do |f| %&gt; &lt;div&gt; &lt;label&gt;メールアドレス&lt;/label&gt; &lt;%= f.text_field :email %&gt; &lt;% @user.errors.where(:email).each do |error| %&gt; &lt;p&gt;&lt;%= error.full_message %&gt;&lt;/p&gt; &lt;% end %&gt; &lt;/div&gt; &lt;div&gt; &lt;label&gt;メールアドレス（確認）&lt;/label&gt; &lt;%= f.text_field :email_confirmation %&gt; &lt;% @user.errors.where(:email_confirmation).each do |error| %&gt; &lt;p&gt;&lt;%= error.full_message %&gt;&lt;/p&gt; &lt;% end %&gt; &lt;/div&gt; &lt;div&gt; &lt;%= f.submit &quot;登録する&quot; %&gt; &lt;/div&gt;&lt;% end %&gt;終わり今回は、erbで表示することを前提にしましたが、APIでattributeごとにエラーメッセージを返す時なんかにも便利そうだなと思いました。
</div><div class="ui-feed-item__date" title="2024-07-02 07:43:28">3ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/06/21/180240"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/06/21/180240">PostgreSQLでクエリの実行計画を見る</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
こんにちは。豊泉です。データベースはPostgreSQLを使うことが多いのですが、最近実行計画をあまり見ていないなと思ったので、PostgreSQLでいくつかクエリを試しながら実行計画を見てみようと思います。検証環境検証データクエリを試してみるAccountテーブルに10, 100, 1000, 10000, 100000件のデータを用意し全件取得してみるWHERE条件を追加してインデックスありorなしで試してみるJOIN, ORDER BY, COUNT, LIMIT/OFFSETを試してみるJOINORDER BYCOUNTLIMIT/OFFSETクエリの実行速度を見てみる実行計画はJSONやYAML、XMLでも表示できるみたい使用したソースはこちら最後に検証環境DockerでPostgreSQLを立ち上げます。クエリの実行やデータの確認にはpgAdminを使用します。// compose.ymlservices: postgres: image: postgres:16.3 ports: - ${DB_PORT}:${DB_PORT} volumes: - db-store:/var/lib/postgresql/data environment: POSTGRES_USER: ${DB_USER} POSTGRES_PASSWORD: ${DB_PASSWORD} POSTGRES_PORT: ${DB_PORT} POSTGRES_DB: ${DB_NAME} TZ: Asia/Tokyo restart: always pgadmin: image: dpage/pgadmin4:8.8 ports: - 8888:80 volumes: - pgadmin-data:/var/lib/pgadmin environment: PGADMIN_DEFAULT_EMAIL: root@example.com PGADMIN_DEFAULT_PASSWORD: ${DB_PASSWORD} TZ: Asia/Tokyo depends_on: - postgres restart: alwaysvolumes: db-store: pgadmin-data:検証データ検証データの準備にはprismaとfakerを使用しました。// package.json{
</div><div class="ui-feed-item__date" title="2024-06-21 09:02:40">4ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/05/10/173954"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/05/10/173954">既存プロジェクトでPrettier・ESLintをBiomeに移行してみた</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Biome v1.7からPrettierとESLintから移行するためのコマンドが追加されたので、既存のNext.jsプロジェクトで試しに移行コマンドを叩いてみました。biomejs.devBiomeのインストールと初期設定ESLintからの移行コマンドPrettierからの移行コマンドpackage.jsonのscript変更実行してみるBiomeのインストールと初期設定Biomeをインストール。&gt; npm i --save-dev --save-exact @biomejs/biome@latestadded 3 packages, removed 81 packages, and audited 891 packages in 5s157 packages are looking for funding run `npm fund` for details3 vulnerabilities (2 moderate, 1 high)To address issues that do not require attention, run: npm audit fixTo address all issues (including breaking changes), run: npm audit fix --forceRun `npm audit` for details.設定ファイル生成コマンドを実行する。&gt; npx @biomejs/biome init Welcome to Biome! Let&#39;s get you started...Files created - biome.json Your project configuration. See https://biomejs.dev/reference/configurationNext Steps 1. Setup an editor extension Get live errors as you type and format when you save. Learn more at https://biomejs.dev/guides/integrate-in-editor/ 2. Try a command biome check checks formatting, import sort
</div><div class="ui-feed-item__date" title="2024-05-10 08:39:54">5ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/04/23/182032"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/04/23/182032">【Rails7】特定のviewsで部分的にReactを使う</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
「ここのページだけReact使いたいんだよな〜」とか「ページのここの部分にReact入れ込みたいんだよな〜」ということはありませんか？こちらの記事を応用していきます。↓www.mof-mof.co.jp下準備 www.mof-mof.co.jp手順1. package.json に記載されているビルドスクリプトのビルド対象に app/javascript/*.* が入っていることを確認する。入っていない場合は以下を参考に書き換えてみてください。&quot;build:js&quot;: &quot;esbuild app/javascript/*.* --bundle --sourcemap --outdir=app/assets/builds&quot;2. Reactで実装と、renderの設定をするapp/javascripts/mofmof.tsximport React from &#39;react&#39;;import { createRoot } from &#39;react-dom/client&#39;;export const Mofmof = () =&gt; { return ( &lt;&gt; &lt;div&gt;mofmof&lt;/div&gt; &lt;/&gt; );};const container = document.getElementById(&#39;mofmof&#39;);if (container) { const root = createRoot(container); document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; { root.render(&lt;Mofmof /&gt;); });}3. viewsファイルのReactを使いたい箇所に以下を追記する&lt;%= javascript_include_tag &quot;mofmof&quot;, &quot;data-turbo-track&quot;: &quot;reload&quot;, type: &quot;module&quot; %&gt;色んなページでReactを使いたい場合は、renderの設定を別ファイルに分けて共通化するのがよいと思います。終わりこの方法だとReact側でsessionを管理しなくても、Rails側で使用しているsession（ログイン情報など）を利用できます。また、要件によっては工数を削減することにもつながると思うので、個人開発するときには重宝するかもしれません。（ちょこっと動的にしたい！と
</div><div class="ui-feed-item__date" title="2024-04-23 09:20:32">6ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/04/22/170655"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/04/22/170655">FlutterでiOSアプリのビルドとデプロイを自動化した話</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
こんにちは。豊泉です。少し前に良い個人開発のアイデアが浮かんだので開発していたのですが、アプリのビルドやアップロードなどは少しややこしく以前から面倒に感じていたので、せっかくならビルドとアップロードを自動化しようと思いGithub Actionsを使ってやってみました。必要なもの自動化する前に、アプリをビルド＆アップロードするにあたって下記が必要です。Apple IDAppleのサービスを利用する際に必要なIDですない場合は下記から作成しますhttps://appleid.apple.com/App-specific password下記から作成します（App-Specific Passwordsのところ）https://appleid.apple.com/account/manageBundle ID下記から作成しますhttps://developer.apple.com/account/resources/identifiers/listCertificate下記から作成しますhttps://developer.apple.com/account/resources/certificates/listCertificate passwordCertificateをp12ファイルにexportする際に要求されるので指定しますProfile下記から作成しますhttps://developer.apple.com/account/resources/profiles/listApp下記から作成しますhttps://appstoreconnect.apple.com/apps準備上記が準備できたらGithub Actionsのワークフローを書いていきます。環境変数にはビルドとアップロードに必要な下記項目を入れておきます。今回は下記を設定しました。APPLE_ID上記のApple IDですAPPLE_APP_PASS上記のApp-specific passwordですCERTIFICATES_P12上記のCertificateをexportした際のp12ファイルをbase64でエンコードしたものですCERTIFICATE_PASSWORD上記のCertificate passwordですPROVISIONING_PROFILE上記のProfileをbase64でエンコード
</div><div class="ui-feed-item__date" title="2024-04-22 08:06:55">6ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/04/22/162119"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/04/22/162119">【Rails7】任意のviewsからJSファイルを個別に読み込む</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
このviewsだけにこのJSを読み込みたい・・・！手順1. package.json に記載されているビルドスクリプトのビルド対象に app/javascript/*.* が入っていることを確認する。入っていない場合は以下を参考に書き換えてみてください。&quot;build:js&quot;: &quot;esbuild app/javascript/*.* --bundle --sourcemap --outdir=app/assets/builds&quot;2. JSファイルを作るapp/javascripts/mofmof.jsconsole.log(&quot;mofmof&quot;)3. 読み込みたいviewsファイルに以下を追記する&lt;%= javascript_include_tag &quot;mofmof&quot;, &quot;data-turbo-track&quot;: &quot;reload&quot;, type: &quot;module&quot; %&gt;app/javascripts/ 直下にJSファイルを置く場合は意外とこれだけで終わります。JSファイルの階層を深くしたい場合app/javascripts/mofmof/index.js のように app/javascripts/ 直下にJSファイルを置かない場合は少し工夫が必要です。1. package.json に記載されているビルドスクリプトを修正する&quot;build:js&quot;: &quot;esbuild app/javascript/*.* app/javascript/**/*.* --bundle --sourcemap --outdir=app/assets/builds&quot;,2. 読み込みたいviewsファイルに以下を追記する&lt;%= javascript_include_tag &quot;mofmof/index&quot;, &quot;data-turbo-track&quot;: &quot;reload&quot;, type: &quot;module&quot; %&gt;ビルドされたファイルも階層が深くなっているので、注意しましょう。終わりpackage.json を修正するのを忘れて、「JSファイルが見つからないってエラーになるなぁ」ということもあると思います。Rails5や6に慣れてる人は気を付けましょう！
</div><div class="ui-feed-item__date" title="2024-04-22 07:21:19">6ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/04/22/124028"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/04/22/124028">Rails7 に React + TypeScript を導入する</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Rails7のアプリでJSのビルドツールはesbuildを使用します。www.mof-mof.co.jpReactとTypeScriptをインストールする1. 以下のコマンドで必要なパッケージをインストールyarn add typescript react react-dom react-router-dom @types/react @types/react-dom @types/react-router-dom2. package.json のビルドスクリプトの末尾に --loader:.js=jsx を追記例）&quot;build:js&quot;: &quot;esbuild app/javascript/*.* --bundle --sourcemap --outdir=app/assets/builds --loader:.js=jsx&quot;各種ファイルを作成する1. rails g controller front index でコントローラーを追加する2. config/routes を修正するget &#39;front/index&#39; を削除以下を追加root to: &#39;front#index&#39;get &#39;*path&#39;, to: &#39;front#index&#39;3. app/views/top/index.html.erb を修正する&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;4. app/javascript/application.js に以下を追記するimport React from &#39;react&#39;;import { createRoot } from &#39;react-dom/client&#39;;import { App } from &#39;./react/App&#39;;const container = document.getElementById(&#39;root&#39;);if (container) { const root = createRoot(container); document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; { root.render(&lt;App /&gt;); });}5. 以下のファイルを作成するapp/javascript/react/App.tsximport React from &#39;react&#39;import { BrowserRout
</div><div class="ui-feed-item__date" title="2024-04-22 03:40:28">6ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/04/19/122738"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/04/19/122738">基本情報技術者試験の勉強してみた</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
勉強し始めたきっかけもっと低レイヤーのことを勉強したい！と先輩エンジニアに相談した結果、「学びたい内容は基本情報勉強すれば大体網羅できるよ！」と言われたのがきっかけです。使用した書籍こちらの書籍で学習しました。令和06年 基本情報技術者 合格教本作者:角谷 一成,イエローテールコンピュータ技術評論社Amazon良かったこと経験年数1.5年くらいですが、今のタイミングだからこそ入って来る内容もあり、特にネットワーク、セキュリティ分野に関しては実務に活きる部分も多かったです。以下は印象に残った内容です。公開鍵暗号方式SSHやパスキー認証で用いられる暗号方式です。他にも幅広く活用されている暗号方式で、図解説明もわかりやすく面白かったです。ソートアルゴリズム文字で見ても分かりづらかったのですが、そんな人のために神記事を執筆されている方がいました。qiita.com微妙だったこと業務に結び付かない内容が多いことくらいかと思います。とはいえ、知ってて損は内容な知識も多々あったので、個人的にそこまでネガティブではありませんでした。結論勉強して良かったです！資格は所詮資格だからという思いで学習の優先順位を下げていたのですが、思っていた以上に得られるものが多かったです。受験自体はまだですが、どうせなら近々受験しようと思っています。</div><div class="ui-feed-item__date" title="2024-04-19 03:27:38">6ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/04/15/185929"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" 
href="https://www.mof-mof.co.jp/tech-blog/2024/04/15/185929">TanStack FormでNext.jsのServer Actionsを使ってみた</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
はじめに準備create-next-apptanstack-form インストールフォーム実装zod のスキーマを定義FormFactory オブジェクトを作成Server Action を定義フォームコンポーネントを作成ページでフォームコンポーネントを使用する動作確認クライアントサイドのバリデーションサーバーサイドのバリデーションTanStack Form を使ってみた感想最後にはじめにNext.js v14 から Stable になった Server Actions。それに対応した フォームライブラリとして Tanstack Form を試してみます。TanStack Form は現時点で v0 の β 版ですが、以下の特徴を備えた フォームライブラリです。ファーストクラスの TypeScript サポートシンプルで簡潔な APIクライアントサイドとサーバーサイド両方のバリデーションに対応ヘッドレス任意の UI フレームと組み合わせて実装可能アグノスティックな設計React、Vue、Angular, Solid, Lit と複数のフレームワークに対応フレームワーク間で再利用可能非同期バリデーションとデバウンシングを組み込みでサポートhttps://tanstack.com/form/latest準備https://tanstack.com/form/latest/docs/framework/react/guides/ssrcreate-next-app % npx create-next-app@latestNeed to install the following packages:create-next-app@14.2.1Ok to proceed? (y) y✔ What is your project named? … nextjs_tanstack_form_example✔ Would you like to use TypeScript? … No / Yes✔ Would you like to use ESLint? … No / Yes✔ Would you like to use Tailwind CSS? … No / Yes✔ Would you like to use `src/` directory? … No / Yes✔ W
</div><div class="ui-feed-item__date" title="2024-04-15 09:59:29">6ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.mof-mof.co.jp/tech-blog/2024/04/12/165739"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/04/12/165739">よく使う・知ってると便利な rails new コマンドのオプション</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Railsプロジェクトを新規作成する機会は多くないため意外とオプションって忘れがちだと思います。rails new コマンドのオプションなんだったっけかな〜という時のためによく使うオプション、知ってると便利なオプションをまとめてみました。DB編使用するDBを指定する場合は -d ほげほげ で指定できます。sqlite3 です。PostgreSQLの場合rails new mofmof -d postgresqlMySQLの場合rails new mofmof -d mysqlOracleの場合rails new mofmof -d oracleDBを使用しない場合rails new mofmof -OJSのビルドツール編Rails7からWebpackerが標準ではなくなりました。esbuildの場合rails new mofmof -j esbuildwebpackの場合rails new mofmof -j webpackCSSフレームワーク編rails new の段階でCSSフレームワークを指定できるようになりました。tailwindの場合rails new mofmof -c tailwindbootstrapの場合rails new mofmof -c bootstrapsassの場合rails new mofmof -c sass知ってると便利カレントディレクトリにRailsプロジェクトを作成するカレントディレクトリの名前がアプリ名になる点に注意が必要です。rails new .アプリ名を指定するディレクトリ名とアプリ名を変えたい時に便利です。Mofmofアプリを作るときの例がこちらrails new . -n mofmof他にもたくさん！スキップする系のコマンドなど他にも沢山あるのでrails new --help コマンドでお気に入りのオプションを探してみてください！</div><div class="ui-feed-item__date" title="2024-04-12 07:57:39">6ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" 
href="https://www.mof-mof.co.jp/tech-blog/2024/04/12/114220"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.mof-mof.co.jp/tech-blog/2024/04/12/114220">Rails7 に Tailwind CSS を導入する</a><div class="ui-feed-item__blog-title">もふもふ技術部</div><div class="ui-feed-item__summary">
Rails7以前で Tailwind CSS を使用したい場合はWebpackerを使って yarn add tailwindcss して ほげほげファイルを追加して〜〜としていたと思います。プロジェクト作成時に導入する方法と、既存のプロジェクトに途中から導入する方法をまとめてみました。 プロジェクト作成時に導入する場合1. rails new mofmof -j esbuild --css tailwind でプロジェクトを作成する2. 以下を package.json に追加する&quot;scripts&quot;: { &quot;build&quot;: &quot;esbuild app/javascript/*.* --bundle --sourcemap --format=esm --outdir=app/assets/builds --public-path=/assets&quot;, &quot;build:css&quot;: &quot;tailwindcss -i ./app/assets/stylesheets/application.tailwind.css -o ./app/assets/builds/application.css --minify&quot;} 既存のプロジェクトに途中から導入する場合1. 以下を Gemfile に追加gem &quot;cssbundling-rails&quot;2. bundle install を実行3. bin/rails css:install:tailwind 実行4. 以下を package.json の scripts に追加する&quot;build:css&quot;: &quot;tailwindcss -i ./app/assets/stylesheets/application.tailwind.css -o ./app/assets/builds/application.css --minify&quot;自分で作成したCSSファイルを読み込みたい場合例えば app/assets/stylesheets/mofmof.css というCSSファイルを読み込みたい場合はapp/assets/stylesheets/application.tailwind.css を以下のように変更します。@import &quot;tailwindcss/base&quot;;@import &quot;tailwindcss/components&quot;;@import &quot;t
</div><div class="ui-feed-item__date" title="2024-04-12 02:42:20">6ヶ月前</div></div></div></div></div></section></main><footer role="contentinfo" class="ui-section-footer"><div class="ui-layout-container"><div class="ui-layout-column-6 ui-layout-column-center"><div class="ui-component-cta ui-layout-flex ui-section-footer__site-info"><p class="ui-text-note">このサイトは<br>記事を読んでその企業の技術・カルチャーを知れることや<br>質の高い技術情報を得られることを目的としています。</p><p class="ui-text-note">追加したいブログがある場合は<br><a href="https://github.com/yamadashy/tech-blog-rss-feed#%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E8%BF%BD%E5%8A%A0%E6%96%B9%E6%B3%95">サイトの追加方法</a> をご参照ください。</p></div></div></div><div class="ui-layout-container"><div class="ui-section-footer__layout ui-layout-flex"><p class="ui-section-footer--copyright ui-text-note"><a class="ui-text-note" href="https://github.com/yamadashy/"><small>@yamadashy</small></a></p><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#" class="ui-text-note"><small>GitHub
</small></a></div></div></footer></body></html>